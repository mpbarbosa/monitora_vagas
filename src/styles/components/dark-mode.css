/**
 * Dark Mode Styles
 * Complete dark mode support with smooth transitions
 */

/* ========================================
   Base Dark Mode Styles
   ======================================== */

body {
    background-color: var(--color-background);
    color: var(--color-text);
    transition: background-color 0.3s ease, color 0.3s ease;
}

/* ========================================
   Dark Mode Toggle Button
   ======================================== */

#dark-mode-toggle {
    position: fixed;
    bottom: 90px; /* Above keyboard shortcuts button */
    right: 24px;
    width: 56px;
    height: 56px;
    border-radius: 50%;
    background: var(--color-surface, #f1f5f9);
    border: 2px solid var(--color-border);
    color: var(--color-text);
    font-size: 24px;
    cursor: pointer;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 1000;
    display: flex;
    align-items: center;
    justify-content: center;
}

#dark-mode-toggle:hover {
    transform: scale(1.1) rotate(20deg);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
}

#dark-mode-toggle:active {
    transform: scale(0.95);
}

#dark-mode-toggle:focus {
    outline: 3px solid var(--color-primary);
    outline-offset: 3px;
}

.theme-icon {
    font-size: 28px;
    line-height: 1;
    transition: transform 0.3s ease;
}

#dark-mode-toggle:hover .theme-icon {
    transform: rotate(-20deg);
}

/* Mobile positioning */
@media (max-width: 767.98px) {
    #dark-mode-toggle {
        bottom: 76px;
        right: 16px;
        width: 52px;
        height: 52px;
    }
}

/* ========================================
   Component Dark Mode Styles
   ======================================== */

.dark-theme {
    /* Cards */
    .card,
    .hotel-card,
    .vacancy-card {
        background-color: var(--color-card-bg);
        border-color: var(--color-border);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }
    
    /* Forms */
    .form-control,
    .form-select,
    input,
    select,
    textarea {
        background-color: var(--color-input-bg);
        border-color: var(--color-input-border);
        color: var(--color-text);
    }
    
    .form-control:focus,
    .form-select:focus {
        background-color: var(--color-input-bg);
        border-color: var(--color-primary);
        color: var(--color-text);
    }
    
    /* Buttons */
    .btn-secondary {
        background-color: var(--color-gray-700);
        border-color: var(--color-gray-600);
        color: var(--color-text);
    }
    
    .btn-secondary:hover {
        background-color: var(--color-gray-600);
    }
    
    /* Modals */
    .modal-content {
        background-color: var(--color-card-bg);
        border-color: var(--color-border);
        color: var(--color-text);
    }
    
    .modal-header {
        border-bottom-color: var(--color-border);
    }
    
    .modal-footer {
        border-top-color: var(--color-border);
    }
    
    /* Toast notifications */
    .toast {
        background-color: var(--color-card-bg);
        color: var(--color-text);
    }
    
    /* Progress indicators */
    .progress-container {
        background-color: var(--color-card-bg);
        border-color: var(--color-border);
    }
    
    /* Keyboard shortcuts help */
    .keyboard-shortcuts-help {
        background-color: var(--color-card-bg);
    }
    
    .keyboard-shortcuts-list li:hover {
        background-color: var(--color-gray-700);
    }
    
    kbd {
        background: linear-gradient(180deg, var(--color-gray-700) 0%, var(--color-gray-800) 100%);
        border-color: var(--color-gray-600);
        color: var(--color-text);
    }
    
    /* Links */
    a {
        color: var(--color-primary-light);
    }
    
    a:hover {
        color: var(--color-primary);
    }
    
    /* Tables */
    table {
        color: var(--color-text);
    }
    
    thead {
        background-color: var(--color-gray-700);
    }
    
    tbody tr:hover {
        background-color: var(--color-gray-800);
    }
    
    /* Navbar */
    .navbar {
        background-color: var(--color-card-bg) !important;
        border-bottom: 1px solid var(--color-border);
    }
    
    /* Footer */
    .version-footer {
        background-color: var(--color-card-bg);
        border-top-color: var(--color-border);
        color: var(--color-text-light);
    }
    
    /* Alerts */
    .alert {
        background-color: var(--color-gray-800);
        border-color: var(--color-border);
        color: var(--color-text);
    }
}

/* ========================================
   Smooth Transitions
   ======================================== */

* {
    transition-property: background-color, border-color, color, fill, stroke;
    transition-duration: 0.2s;
    transition-timing-function: ease-in-out;
}

/* Exclude elements that shouldn't transition */
*:where(
    input[type="range"],
    progress,
    [role="progressbar"],
    .no-transition
) {
    transition: none;
}

/* ========================================
   Print Styles
   ======================================== */

@media print {
    #dark-mode-toggle {
        display: none;
    }
    
    /* Force light theme for printing */
    body {
        background: white !important;
        color: black !important;
    }
}

/* ========================================
   Reduced Motion
   ======================================== */

@media (prefers-reduced-motion: reduce) {
    #dark-mode-toggle {
        transition: none;
    }
    
    .theme-icon {
        transition: none;
    }
    
    * {
        transition-duration: 0.01ms !important;
    }
}
