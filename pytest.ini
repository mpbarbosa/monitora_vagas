# Pytest Configuration for Monitora Vagas
# Enables parallel test execution and test organization

[pytest]
# Test discovery patterns
testpaths = tests
python_files = test_*.py *_test.py
python_classes = Test*
python_functions = test_*

# Default options
addopts = 
    -v
    --strict-markers
    --tb=short
    --capture=no
    --log-cli-level=INFO
    --color=yes

# Parallel execution (disabled by default, enable with -n auto)
# pytest tests/ -n auto  # Use all CPU cores
# pytest tests/ -n 4     # Use 4 workers

# Timeouts (requires pytest-timeout plugin)
# Uncomment after installing: pip install pytest-timeout
# timeout = 30
# timeout_method = thread

# Test markers for selective execution
markers =
    slow: marks tests as slow (>5s execution time)
    fast: marks tests as fast (<1s execution time)
    selenium: marks tests requiring Selenium WebDriver
    api: marks API integration tests
    unit: marks unit tests
    integration: marks integration tests
    e2e: marks end-to-end tests
    smoke: marks smoke tests (quick validation)
    regression: marks regression tests
    flaky: marks tests known to be flaky (require reruns)

# Selective test execution examples:
# pytest -m "not slow"           # Skip slow tests
# pytest -m "selenium"            # Run only Selenium tests
# pytest -m "unit or api"         # Run unit OR API tests
# pytest -m "not (slow or flaky)" # Skip slow and flaky tests

# Filtering options
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning

# Coverage options (when using --cov)
# pytest tests/ --cov=src --cov-report=html
# Open coverage/html/index.html

# Minimum versions
minversion = 7.0

# Console output format
console_output_style = progress

# Show extra test summary info
# pytest -ra  # Show all except passed
# pytest -rA  # Show all including passed
